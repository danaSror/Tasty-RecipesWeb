(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-760d9e46"],{37906:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"background-wrapper",style:e.styles},[r("div",{staticClass:"container"},[r("br"),r("br"),r("h1",{staticClass:"title"},[e._v("Search for recipes")]),r("br"),r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-form",[r("b-form-input",{staticStyle:{width:"350px"},attrs:{placeholder:"What kind of recipe would you like to search?"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchRecipe(t)}},model:{value:e.params.query,callback:function(t){e.$set(e.params,"query",t)},expression:"params.query"}}),r("b-form-select",{staticStyle:{margin:"0px 15px"},model:{value:e.params.amount,callback:function(t){e.$set(e.params,"amount",t)},expression:"params.amount"}},[r("option",{attrs:{disabled:"",value:""}},[e._v("Number of recipes")]),r("option",{attrs:{value:"5"}},[e._v("5")]),r("option",{attrs:{value:"10"}},[e._v("10")]),r("option",{attrs:{value:"15"}},[e._v("15")])]),r("b-form-select",{staticStyle:{width:"120px",margin:"0px 0px"},attrs:{options:e.CuisinesFilter},model:{value:e.params.cuisine,callback:function(t){e.$set(e.params,"cuisine",t)},expression:"params.cuisine"}},[r("option",{attrs:{disabled:"",value:""}},[e._v("Cuisines")])]),r("b-form-select",{staticStyle:{width:"120px",margin:"0px 0px"},attrs:{options:e.DietsFilter},model:{value:e.params.diet,callback:function(t){e.$set(e.params,"diet",t)},expression:"params.diet"}},[r("option",{attrs:{disabled:"",value:""}},[e._v("Diets")])]),r("b-form-select",{staticStyle:{width:"135px",margin:"0px 0px"},attrs:{options:e.IntolerancesFilter},model:{value:e.params.intolerance,callback:function(t){e.$set(e.params,"intolerance",t)},expression:"params.intolerance"}},[r("option",{attrs:{disabled:"",value:""}},[e._v("Intolerances")])])],1)],1),r("br"),r("br"),this.params.query?r("b-button",{attrs:{type:"submit"},on:{click:e.searchRecipe}},[r("b",[e._v("Search")])]):r("b-button",{attrs:{disabled:"",type:"submit"},on:{click:e.searchRecipe}},[r("b",[e._v("Search")])]),r("b-button",{staticStyle:{margin:"0px 25px"},attrs:{type:"submit"},on:{click:e.clearSearchParamsForUser}},[r("b",[e._v("Clear fields")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.showResult,expression:"!showResult"}]},[r("RecipePreviewList",{attrs:{title:"",recipes:null}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showResult&&e.recipes.length>0,expression:"showResult && recipes.length > 0"}]},[r("br"),r("br"),r("b-nav-form",{staticClass:"title text-center"},[r("b",[e._v("Sort results by")]),e._v(" : "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.preparationFilter,expression:"preparationFilter"}],staticStyle:{margin:"0px 15px"},attrs:{type:"checkbox",value:"Preparation time",disabled:e.likesFilter},domProps:{checked:Array.isArray(e.preparationFilter)?e._i(e.preparationFilter,"Preparation time")>-1:e.preparationFilter},on:{click:e.sortedArrayByPreparationTime,change:function(t){var r=e.preparationFilter,a=t.target,i=!!a.checked;if(Array.isArray(r)){var s="Preparation time",n=e._i(r,s);a.checked?n<0&&(e.preparationFilter=r.concat([s])):n>-1&&(e.preparationFilter=r.slice(0,n).concat(r.slice(n+1)))}else e.preparationFilter=i}}}),r("label",{attrs:{for:"preparation time"}},[r("b",[e._v("Preparation time")])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.likesFilter,expression:"likesFilter"}],staticStyle:{margin:"0px 10px"},attrs:{type:"checkbox",value:"Likes",disabled:e.preparationFilter},domProps:{checked:Array.isArray(e.likesFilter)?e._i(e.likesFilter,"Likes")>-1:e.likesFilter},on:{click:e.sortedArrayByLikes,change:function(t){var r=e.likesFilter,a=t.target,i=!!a.checked;if(Array.isArray(r)){var s="Likes",n=e._i(r,s);a.checked?n<0&&(e.likesFilter=r.concat([s])):n>-1&&(e.likesFilter=r.slice(0,n).concat(r.slice(n+1)))}else e.likesFilter=i}}}),r("label",{attrs:{for:"Likes"}},[r("b",[e._v("Likes")])])]),r("br"),r("h2",{staticClass:"recipesResut-title"},[e._v("Recipes results")]),r("RecipePreviewList",{attrs:{title:"",recipes:e.recipes}})],1),e.ShowBackground?r("div",{directives:[{name:"show",rawName:"v-show",value:0==e.resultCount,expression:"resultCount == 0"}],staticClass:"titleText"},[r("br"),r("br"),r("br"),r("h3",[e._v("No suitable results")]),r("RecipePreviewList",{attrs:{title:"",recipes:null}})],1):e._e()],1),r("br"),r("br"),r("br"),e._v(" "),r("br"),r("br"),r("br"),e._v(" "),r("br"),r("br"),r("br"),e._v(" "),r("br"),r("br"),r("br"),e._v(" "),r("br"),r("br"),r("br"),e._v(" "),r("br"),r("br"),r("br"),e._v(" "),r("br"),r("br"),r("br")])},i=[],s=(r("4e82"),r("96cf"),r("1da1")),n=r("2909"),o=["African","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"],l=["Gluten Free","Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Whole30"],c=["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"],p=r("99d8"),u=r("3ecf"),m=r.n(u),h={name:"SearchBar",data:function(){return{recipes:[],params:{query:"",amount:"",cuisine:"",diet:"",intolerance:""},CuisinesFilter:[{value:null,text:"",disabled:!0}],DietsFilter:[{value:null,text:"",disabled:!0}],IntolerancesFilter:[{value:null,text:"",disabled:!0}],showResult:!1,likesFilter:!1,preparationFilter:!1,resultCount:-1,ShowBackground:!0}},computed:{styles:function(){return{"background-image":"url(".concat(m.a,")"),"background-repeat":"repeat"}}},created:function(){localStorage.query&&this.$root.store.username&&(localStorage.query&&(this.params.query=localStorage.query),localStorage.amount&&(this.params.amount=localStorage.amount),localStorage.cuisine&&(this.params.cuisine=localStorage.cuisine),localStorage.diet&&(this.params.diet=localStorage.diet),localStorage.intolerance&&(this.params.intolerance=localStorage.intolerance),this.getRecipeFromServer(),this.showResult=!0)},mounted:function(){var e,t,r;(e=this.CuisinesFilter).push.apply(e,Object(n["a"])(o)),(t=this.DietsFilter).push.apply(t,Object(n["a"])(l)),(r=this.IntolerancesFilter).push.apply(r,Object(n["a"])(c))},methods:{clearSearchParamsForUser:function(){this.params.query="",this.params.amount="",this.params.cuisine="",this.params.diet="",this.params.intolerance=""},getRecipeFromServer:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("getRecipeFromServer"),!e.params.amount&&e.params.query&&(e.params.amount=5),t.next=5,e.axios.get(e.$root.store.base_url+"/recipes/search/query/"+e.params.query+"/amount/"+e.params.amount+"?cuisine="+e.params.cuisine+"&diet="+e.params.diet+"&intolerances="+e.params.intolerance);case 5:a=t.sent,i=a.data,e.recipes=[],(r=e.recipes).push.apply(r,Object(n["a"])(i)),e.resultCount=e.recipes.length,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0.response);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},searchRecipe:function(){this.getRecipeFromServer(),this.showResult=!0,this.$root.store.username&&(localStorage.setItem("query",this.params.query),localStorage.setItem("amount",this.params.amount),localStorage.setItem("cuisine",this.params.cuisine),localStorage.setItem("diet",this.params.diet),localStorage.setItem("intolerance",this.params.intolerance),console.log(localStorage.query))},sortedArrayByLikes:function(){var e;function t(e,t){return e.aggregateLikes<t.aggregateLikes?1:e.aggregateLikes>t.aggregateLikes?-1:0}var r=this.recipes.sort(t);this.recipes=[],(e=this.recipes).push.apply(e,Object(n["a"])(r))},sortedArrayByPreparationTime:function(){var e;function t(e,t){return e.readyInMinute<t.readyInMinute?-1:e.readyInMinute>t.readyInMinute?1:0}var r=this.recipes.sort(t);this.recipes=[],(e=this.recipes).push.apply(e,Object(n["a"])(r))},sortedArray:function(){this.likesFilter&&sortedArrayByLikes(),this.preparationFilter&&sortedArrayByPreparationTime()}},components:{RecipePreviewList:p["a"]}},d=h,b=(r("83a0"),r("2877")),v=Object(b["a"])(d,a,i,!1,null,"600ead22",null);t["default"]=v.exports},"4e82":function(e,t,r){"use strict";var a=r("23e7"),i=r("1c0b"),s=r("7b0b"),n=r("d039"),o=r("a640"),l=[],c=l.sort,p=n((function(){l.sort(void 0)})),u=n((function(){l.sort(null)})),m=o("sort"),h=p||!u||!m;a({target:"Array",proto:!0,forced:h},{sort:function(e){return void 0===e?c.call(s(this)):c.call(s(this),i(e))}})},"83a0":function(e,t,r){"use strict";var a=r("a660"),i=r.n(a);i.a},a660:function(e,t,r){}}]);
//# sourceMappingURL=chunk-760d9e46.e1728142.js.map